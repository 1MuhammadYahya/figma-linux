name: Release Build

on: workflow_dispatch

jobs:
  setup:
    uses: ./.github/workflows/reuses/setup.yml@dev

  build_arm64v8:
    uses: ./.github/workflows/reuses/build_arm64v8.yml@dev
    needs: setup
  build_amd64:
    uses: ./.github/workflows/reuses/build_amd64.yml@dev
    needs: setup

  release_arm64v8:
    uses: ./.github/workflows/reuses/release_arm64v8.yml@dev
    needs: build_arm64v8
  release_amd64:
    uses: ./.github/workflows/reuses/release_amd64.yml@dev
    needs: build_amd64